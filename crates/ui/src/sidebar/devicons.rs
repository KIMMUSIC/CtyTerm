// Generated from nvim-web-devicons default icon tables.
// Source: https://github.com/nvim-tree/nvim-web-devicons
// Commit: 746ffbb17975ebd6c40142362eee1b0249969c5c

use std::collections::HashMap;
use std::path::Path;
use std::sync::OnceLock;

const DEFAULT_FILE_ICON: &str = "\u{f0f6}";
const DEFAULT_FOLDER_ICON: &str = "\u{e5ff}";

static FILENAME_ICONS: &[(&str, &str)] = &[
    (".babelrc", "\u{e639}"),
    (".bash_profile", "\u{e615}"),
    (".bashrc", "\u{e615}"),
    (".clang-format", "\u{e615}"),
    (".clang-tidy", "\u{e615}"),
    (".codespellrc", "\u{f04c6}"),
    (".condarc", "\u{e715}"),
    (".dockerignore", "\u{f0868}"),
    (".ds_store", "\u{e615}"),
    (".editorconfig", "\u{e652}"),
    (".env", "\u{f462}"),
    (".eslintignore", "\u{e655}"),
    (".eslintrc", "\u{e655}"),
    (".git-blame-ignore-revs", "\u{e702}"),
    (".gitattributes", "\u{e702}"),
    (".gitconfig", "\u{e615}"),
    (".gitignore", "\u{e702}"),
    (".gitlab-ci.yml", "\u{f296}"),
    (".gitmodules", "\u{e702}"),
    (".gtkrc-2.0", "\u{f362}"),
    (".gvimrc", "\u{e62b}"),
    (".justfile", "\u{f0ad}"),
    (".luacheckrc", "\u{e615}"),
    (".luaurc", "\u{e615}"),
    (".mailmap", "\u{f02a2}"),
    (".nanorc", "\u{e838}"),
    (".npmignore", "\u{e71e}"),
    (".npmrc", "\u{e71e}"),
    (".nuxtrc", "\u{f1106}"),
    (".nvmrc", "\u{e718}"),
    (".pnpmfile.cjs", "\u{e865}"),
    (".pre-commit-config.yaml", "\u{f06e2}"),
    (".prettierignore", "\u{e6b4}"),
    (".prettierrc", "\u{e6b4}"),
    (".prettierrc.cjs", "\u{e6b4}"),
    (".prettierrc.js", "\u{e6b4}"),
    (".prettierrc.json", "\u{e6b4}"),
    (".prettierrc.json5", "\u{e6b4}"),
    (".prettierrc.mjs", "\u{e6b4}"),
    (".prettierrc.toml", "\u{e6b4}"),
    (".prettierrc.yaml", "\u{e6b4}"),
    (".prettierrc.yml", "\u{e6b4}"),
    (".pylintrc", "\u{e615}"),
    (".settings.json", "\u{e70c}"),
    (".srcinfo", "\u{f08c7}"),
    (".vimrc", "\u{e62b}"),
    (".xauthority", "\u{f369}"),
    (".xinitrc", "\u{f369}"),
    (".xresources", "\u{f369}"),
    (".xsession", "\u{f369}"),
    (".zprofile", "\u{e615}"),
    (".zshenv", "\u{e615}"),
    (".zshrc", "\u{e615}"),
    ("_gvimrc", "\u{e62b}"),
    ("_vimrc", "\u{e62b}"),
    ("authors", "\u{edca}"),
    ("authors.txt", "\u{edca}"),
    ("brewfile", "\u{e791}"),
    ("bspwmrc", "\u{f355}"),
    ("build", "\u{e63a}"),
    ("build.gradle", "\u{e660}"),
    ("build.zig.zon", "\u{e6a9}"),
    ("bun.lock", "\u{e76f}"),
    ("bun.lockb", "\u{e76f}"),
    ("cantorrc", "\u{f373}"),
    ("checkhealth", "\u{f04d9}"),
    ("cmakelists.txt", "\u{e794}"),
    ("code_of_conduct", "\u{f4ae}"),
    ("code_of_conduct.md", "\u{f4ae}"),
    ("commit_editmsg", "\u{e702}"),
    ("commitlint.config.js", "\u{f0718}"),
    ("commitlint.config.ts", "\u{f0718}"),
    ("compose.yaml", "\u{f0868}"),
    ("compose.yml", "\u{f0868}"),
    ("config", "\u{e615}"),
    ("containerfile", "\u{f0868}"),
    ("copying", "\u{e60a}"),
    ("copying.lesser", "\u{e60a}"),
    ("directory.build.props", "\u{e615}"),
    ("directory.build.targets", "\u{e615}"),
    ("directory.packages.props", "\u{e615}"),
    ("docker-compose.yaml", "\u{f0868}"),
    ("docker-compose.yml", "\u{f0868}"),
    ("dockerfile", "\u{f0868}"),
    ("eslint.config.cjs", "\u{e655}"),
    ("eslint.config.js", "\u{e655}"),
    ("eslint.config.mjs", "\u{e655}"),
    ("eslint.config.ts", "\u{e655}"),
    ("ext_typoscript_setup.txt", "\u{e772}"),
    ("favicon.ico", "\u{e623}"),
    ("fp-info-cache", "\u{f34c}"),
    ("fp-lib-table", "\u{f34c}"),
    ("freecad.conf", "\u{f336}"),
    ("gemfile", "\u{e791}"),
    ("gnumakefile", "\u{e779}"),
    ("go.mod", "\u{e627}"),
    ("go.sum", "\u{e627}"),
    ("go.work", "\u{e627}"),
    ("gradle-wrapper.properties", "\u{e660}"),
    ("gradle.properties", "\u{e660}"),
    ("gradlew", "\u{e660}"),
    ("groovy", "\u{e775}"),
    ("gruntfile.babel.js", "\u{e611}"),
    ("gruntfile.coffee", "\u{e611}"),
    ("gruntfile.js", "\u{e611}"),
    ("gruntfile.ts", "\u{e611}"),
    ("gtkrc", "\u{f362}"),
    ("gulpfile.babel.js", "\u{e610}"),
    ("gulpfile.coffee", "\u{e610}"),
    ("gulpfile.js", "\u{e610}"),
    ("gulpfile.ts", "\u{e610}"),
    ("hypridle.conf", "\u{f359}"),
    ("hyprland.conf", "\u{f359}"),
    ("hyprlandd.conf", "\u{f359}"),
    ("hyprlock.conf", "\u{f359}"),
    ("hyprpaper.conf", "\u{f359}"),
    ("hyprsunset.conf", "\u{f359}"),
    ("i18n.config.js", "\u{f05ca}"),
    ("i18n.config.ts", "\u{f05ca}"),
    ("i3blocks.conf", "\u{f35a}"),
    ("i3status.conf", "\u{f35a}"),
    ("index.theme", "\u{ee72}"),
    ("ionic.config.json", "\u{e7a9}"),
    ("jenkinsfile", "\u{f2ec}"),
    ("justfile", "\u{f0ad}"),
    ("kalgebrarc", "\u{f373}"),
    ("kdeglobals", "\u{f373}"),
    ("kdenlive-layoutsrc", "\u{f33c}"),
    ("kdenliverc", "\u{f33c}"),
    ("kritadisplayrc", "\u{f33d}"),
    ("kritarc", "\u{f33d}"),
    ("license", "\u{e60a}"),
    ("license.md", "\u{e60a}"),
    ("lxde-rc.xml", "\u{f363}"),
    ("lxqt.conf", "\u{f364}"),
    ("makefile", "\u{e779}"),
    ("mix.lock", "\u{e62d}"),
    ("mpv.conf", "\u{f36e}"),
    ("next.config.cjs", "\u{e83e}"),
    ("next.config.js", "\u{e83e}"),
    ("next.config.ts", "\u{e83e}"),
    ("node_modules", "\u{e718}"),
    ("nuxt.config.cjs", "\u{f1106}"),
    ("nuxt.config.js", "\u{f1106}"),
    ("nuxt.config.mjs", "\u{f1106}"),
    ("nuxt.config.ts", "\u{f1106}"),
    ("package-lock.json", "\u{e71e}"),
    ("package.json", "\u{e71e}"),
    ("pkgbuild", "\u{f303}"),
    ("platformio.ini", "\u{e682}"),
    ("playwright.config.cjs", "\u{eeb6}"),
    ("playwright.config.cts", "\u{eeb6}"),
    ("playwright.config.js", "\u{eeb6}"),
    ("playwright.config.mjs", "\u{eeb6}"),
    ("playwright.config.mts", "\u{eeb6}"),
    ("playwright.config.ts", "\u{eeb6}"),
    ("pnpm-lock.yaml", "\u{e865}"),
    ("pnpm-workspace.yaml", "\u{e865}"),
    ("pom.xml", "\u{e674}"),
    ("prettier.config.cjs", "\u{e6b4}"),
    ("prettier.config.js", "\u{e6b4}"),
    ("prettier.config.mjs", "\u{e6b4}"),
    ("prettier.config.ts", "\u{e6b4}"),
    ("prisma.config.mts", "\u{e684}"),
    ("prisma.config.ts", "\u{e684}"),
    ("procfile", "\u{e607}"),
    ("prusaslicer.ini", "\u{f351}"),
    ("prusaslicergcodeviewer.ini", "\u{f351}"),
    ("py.typed", "\u{e606}"),
    ("qtproject.conf", "\u{f375}"),
    ("rakefile", "\u{e791}"),
    ("readme", "\u{f00ba}"),
    ("readme.md", "\u{f00ba}"),
    ("rmd", "\u{e609}"),
    ("robots.txt", "\u{f06a9}"),
    ("security", "\u{f0483}"),
    ("security.md", "\u{f0483}"),
    ("settings.gradle", "\u{e660}"),
    ("svelte.config.js", "\u{e697}"),
    ("sxhkdrc", "\u{f355}"),
    ("sym-lib-table", "\u{f34c}"),
    ("tailwind.config.js", "\u{f13ff}"),
    ("tailwind.config.mjs", "\u{f13ff}"),
    ("tailwind.config.ts", "\u{f13ff}"),
    ("tmux.conf", "\u{ebc8}"),
    ("tmux.conf.local", "\u{ebc8}"),
    ("tsconfig.json", "\u{e69d}"),
    ("unlicense", "\u{e60a}"),
    ("vagrantfile", "\u{f2b8}"),
    ("vercel.json", "\u{e8d3}"),
    ("vite.config.cjs", "\u{e8d9}"),
    ("vite.config.cts", "\u{e8d9}"),
    ("vite.config.js", "\u{e8d9}"),
    ("vite.config.mjs", "\u{e8d9}"),
    ("vite.config.mts", "\u{e8d9}"),
    ("vite.config.ts", "\u{e8d9}"),
    ("vitest.config.cjs", "\u{e8d9}"),
    ("vitest.config.cts", "\u{e8d9}"),
    ("vitest.config.js", "\u{e8d9}"),
    ("vitest.config.mjs", "\u{e8d9}"),
    ("vitest.config.mts", "\u{e8d9}"),
    ("vitest.config.ts", "\u{e8d9}"),
    ("vlcrc", "\u{f057c}"),
    ("webpack", "\u{f072b}"),
    ("weston.ini", "\u{f367}"),
    ("workspace", "\u{e63a}"),
    ("wrangler.jsonc", "\u{e792}"),
    ("wrangler.toml", "\u{e792}"),
    ("xdph.conf", "\u{f359}"),
    ("xmobarrc", "\u{f35e}"),
    ("xmobarrc.hs", "\u{f35e}"),
    ("xmonad.hs", "\u{f35e}"),
    ("xorg.conf", "\u{f369}"),
    ("xsettingsd.conf", "\u{f369}"),
];

static EXTENSION_ICONS: &[(&str, &str)] = &[
    ("3gp", "\u{e69f}"),
    ("3mf", "\u{f01a7}"),
    ("7z", "\u{f410}"),
    ("Dockerfile", "\u{f0868}"),
    ("R", "\u{f07d4}"),
    ("a", "\u{eb9c}"),
    ("aac", "\u{f001}"),
    ("ada", "\u{e6b5}"),
    ("adb", "\u{e6b5}"),
    ("ads", "\u{e6b5}"),
    ("ai", "\u{e7b4}"),
    ("aif", "\u{f001}"),
    ("aiff", "\u{f001}"),
    ("android", "\u{e70e}"),
    ("ape", "\u{f001}"),
    ("apk", "\u{e70e}"),
    ("apl", "\u{e730}"),
    ("app", "\u{eae8}"),
    ("applescript", "\u{f179}"),
    ("asc", "\u{f099d}"),
    ("asm", "\u{e637}"),
    ("ass", "\u{f0a16}"),
    ("astro", "\u{e6b3}"),
    ("avif", "\u{e60d}"),
    ("awk", "\u{e795}"),
    ("azcli", "\u{ebe8}"),
    ("bak", "\u{f006f}"),
    ("bash", "\u{e760}"),
    ("bat", "\u{e615}"),
    ("bazel", "\u{e63a}"),
    ("bib", "\u{f125f}"),
    ("bicep", "\u{e63b}"),
    ("bicepparam", "\u{e63b}"),
    ("bin", "\u{eae8}"),
    ("blade.php", "\u{f2f7}"),
    ("blend", "\u{f00ab}"),
    ("blp", "\u{f0ebe}"),
    ("bmp", "\u{e60d}"),
    ("bqn", "\u{e730}"),
    ("brep", "\u{f0eeb}"),
    ("bz", "\u{f410}"),
    ("bz2", "\u{f410}"),
    ("bz3", "\u{f410}"),
    ("bzl", "\u{e63a}"),
    ("c", "\u{e61e}"),
    ("c++", "\u{e61d}"),
    ("cache", "\u{f49b}"),
    ("cast", "\u{e69f}"),
    ("cbl", "\u{f423}"),
    ("cc", "\u{e61d}"),
    ("ccm", "\u{e61d}"),
    ("cfc", "\u{e645}"),
    ("cfg", "\u{e615}"),
    ("cfm", "\u{e645}"),
    ("cjs", "\u{e60c}"),
    ("clj", "\u{e768}"),
    ("cljc", "\u{e768}"),
    ("cljd", "\u{e76a}"),
    ("cljs", "\u{e76a}"),
    ("cmake", "\u{e794}"),
    ("cob", "\u{f423}"),
    ("cobol", "\u{f423}"),
    ("coffee", "\u{e61b}"),
    ("conda", "\u{e715}"),
    ("conf", "\u{e615}"),
    ("config.ru", "\u{e791}"),
    ("cow", "\u{f019a}"),
    ("cp", "\u{e61d}"),
    ("cpp", "\u{e61d}"),
    ("cppm", "\u{e61d}"),
    ("cpy", "\u{f423}"),
    ("cr", "\u{e62f}"),
    ("crdownload", "\u{f019}"),
    ("cs", "\u{f031b}"),
    ("csh", "\u{e795}"),
    ("cshtml", "\u{f1997}"),
    ("cson", "\u{e60b}"),
    ("csproj", "\u{f0aae}"),
    ("css", "\u{e6b8}"),
    ("csv", "\u{e64a}"),
    ("cts", "\u{e628}"),
    ("cu", "\u{e64b}"),
    ("cue", "\u{f0cb9}"),
    ("cuh", "\u{e64b}"),
    ("cxx", "\u{e61d}"),
    ("cxxm", "\u{e61d}"),
    ("d", "\u{e7af}"),
    ("d.ts", "\u{e628}"),
    ("dart", "\u{e798}"),
    ("db", "\u{e706}"),
    ("dconf", "\u{f361}"),
    ("desktop", "\u{f108}"),
    ("diff", "\u{e728}"),
    ("dll", "\u{eb9c}"),
    ("doc", "\u{f022c}"),
    ("dockerignore", "\u{f0868}"),
    ("docx", "\u{f022c}"),
    ("dot", "\u{f1049}"),
    ("download", "\u{f019}"),
    ("drl", "\u{e28c}"),
    ("dropbox", "\u{e707}"),
    ("dump", "\u{e706}"),
    ("dwg", "\u{f0eeb}"),
    ("dxf", "\u{f0eeb}"),
    ("ebook", "\u{e28b}"),
    ("ebuild", "\u{f30d}"),
    ("edn", "\u{e76a}"),
    ("eex", "\u{e62d}"),
    ("ejs", "\u{e60e}"),
    ("el", "\u{e632}"),
    ("elc", "\u{e632}"),
    ("elf", "\u{eae8}"),
    ("elm", "\u{e62c}"),
    ("eln", "\u{e632}"),
    ("env", "\u{f462}"),
    ("eot", "\u{f031}"),
    ("epp", "\u{e631}"),
    ("epub", "\u{e28b}"),
    ("erb", "\u{e60e}"),
    ("erl", "\u{e7b1}"),
    ("ex", "\u{e62d}"),
    ("exe", "\u{eae8}"),
    ("exs", "\u{e62d}"),
    ("f#", "\u{e7a7}"),
    ("f3d", "\u{f0eeb}"),
    ("f90", "\u{f121a}"),
    ("fbx", "\u{f01a7}"),
    ("fcbak", "\u{f336}"),
    ("fcmacro", "\u{f336}"),
    ("fcmat", "\u{f336}"),
    ("fcparam", "\u{f336}"),
    ("fcscript", "\u{f336}"),
    ("fcstd", "\u{f336}"),
    ("fcstd1", "\u{f336}"),
    ("fctb", "\u{f336}"),
    ("fctl", "\u{f336}"),
    ("fdmdownload", "\u{f019}"),
    ("feature", "\u{e7b7}"),
    ("fish", "\u{e795}"),
    ("flac", "\u{f001}"),
    ("flc", "\u{f031}"),
    ("flf", "\u{f031}"),
    ("fnl", "\u{e6af}"),
    ("fodg", "\u{f379}"),
    ("fodp", "\u{f37a}"),
    ("fods", "\u{f378}"),
    ("fodt", "\u{f37c}"),
    ("frag", "\u{e855}"),
    ("fs", "\u{e7a7}"),
    ("fsi", "\u{e7a7}"),
    ("fsscript", "\u{e7a7}"),
    ("fsx", "\u{e7a7}"),
    ("gcode", "\u{f042b}"),
    ("gd", "\u{e65f}"),
    ("gemspec", "\u{e791}"),
    ("geom", "\u{e855}"),
    ("gif", "\u{e60d}"),
    ("git", "\u{e702}"),
    ("glb", "\u{f1b2}"),
    ("gleam", "\u{f005}"),
    ("glsl", "\u{e855}"),
    ("gnumakefile", "\u{e779}"),
    ("go", "\u{e627}"),
    ("godot", "\u{e65f}"),
    ("gpr", "\u{e6b5}"),
    ("gql", "\u{f20e}"),
    ("gradle", "\u{e660}"),
    ("graphql", "\u{f20e}"),
    ("gresource", "\u{f362}"),
    ("gv", "\u{f1049}"),
    ("gz", "\u{f410}"),
    ("h", "\u{f0fd}"),
    ("haml", "\u{e60e}"),
    ("hbs", "\u{e60f}"),
    ("heex", "\u{e62d}"),
    ("hex", "\u{e667}"),
    ("hh", "\u{f0fd}"),
    ("hpp", "\u{f0fd}"),
    ("hrl", "\u{e7b1}"),
    ("hs", "\u{e61f}"),
    ("htm", "\u{e60e}"),
    ("html", "\u{e736}"),
    ("http", "\u{f1d8}"),
    ("huff", "\u{f0858}"),
    ("hurl", "\u{f0ec}"),
    ("hx", "\u{e666}"),
    ("hxx", "\u{f0fd}"),
    ("ical", "\u{f073}"),
    ("icalendar", "\u{f073}"),
    ("ico", "\u{e60d}"),
    ("ics", "\u{f073}"),
    ("ifb", "\u{f073}"),
    ("ifc", "\u{f0eeb}"),
    ("ige", "\u{f0eeb}"),
    ("iges", "\u{f0eeb}"),
    ("igs", "\u{f0eeb}"),
    ("image", "\u{e271}"),
    ("img", "\u{e271}"),
    ("import", "\u{f0c6}"),
    ("info", "\u{f129}"),
    ("ini", "\u{e615}"),
    ("ino", "\u{f34b}"),
    ("ipynb", "\u{e80f}"),
    ("iso", "\u{e271}"),
    ("ixx", "\u{e61d}"),
    ("jar", "\u{e738}"),
    ("java", "\u{e738}"),
    ("jl", "\u{e624}"),
    ("jpeg", "\u{e60d}"),
    ("jpg", "\u{e60d}"),
    ("js", "\u{e60c}"),
    ("json", "\u{e60b}"),
    ("json5", "\u{e60b}"),
    ("jsonc", "\u{e60b}"),
    ("jsx", "\u{e625}"),
    ("jwmrc", "\u{f35b}"),
    ("jxl", "\u{e60d}"),
    ("kbx", "\u{f0bc4}"),
    ("kdb", "\u{f23e}"),
    ("kdbx", "\u{f23e}"),
    ("kdenlive", "\u{f33c}"),
    ("kdenlivetitle", "\u{f33c}"),
    ("kicad_dru", "\u{f34c}"),
    ("kicad_mod", "\u{f34c}"),
    ("kicad_pcb", "\u{f34c}"),
    ("kicad_prl", "\u{f34c}"),
    ("kicad_pro", "\u{f34c}"),
    ("kicad_sch", "\u{f34c}"),
    ("kicad_sym", "\u{f34c}"),
    ("kicad_wks", "\u{f34c}"),
    ("ko", "\u{f17c}"),
    ("kpp", "\u{f33d}"),
    ("kra", "\u{f33d}"),
    ("krz", "\u{f33d}"),
    ("ksh", "\u{e795}"),
    ("kt", "\u{e634}"),
    ("kts", "\u{e634}"),
    ("lck", "\u{e672}"),
    ("leex", "\u{e62d}"),
    ("less", "\u{e614}"),
    ("lff", "\u{f031}"),
    ("lhs", "\u{e61f}"),
    ("lib", "\u{eb9c}"),
    ("license", "\u{e60a}"),
    ("liquid", "\u{e670}"),
    ("lock", "\u{e672}"),
    ("log", "\u{f0331}"),
    ("lrc", "\u{f0a16}"),
    ("lua", "\u{e620}"),
    ("luac", "\u{e620}"),
    ("luau", "\u{e620}"),
    ("m", "\u{e61e}"),
    ("m3u", "\u{f0cb9}"),
    ("m3u8", "\u{f0cb9}"),
    ("m4a", "\u{f001}"),
    ("m4v", "\u{e69f}"),
    ("magnet", "\u{f076}"),
    ("makefile", "\u{e779}"),
    ("markdown", "\u{e609}"),
    ("material", "\u{e2a6}"),
    ("md", "\u{f48a}"),
    ("md5", "\u{f0565}"),
    ("mdx", "\u{f48a}"),
    ("mint", "\u{f032a}"),
    ("mjs", "\u{e60c}"),
    ("mk", "\u{e779}"),
    ("mkv", "\u{e69f}"),
    ("ml", "\u{e67a}"),
    ("mli", "\u{e67a}"),
    ("mm", "\u{e61d}"),
    ("mo", "\u{edfe}"),
    ("mobi", "\u{e28b}"),
    ("mojo", "\u{f06d}"),
    ("mov", "\u{e69f}"),
    ("mp3", "\u{f001}"),
    ("mp4", "\u{e69f}"),
    ("mpp", "\u{e61d}"),
    ("msf", "\u{f370}"),
    ("mts", "\u{e628}"),
    ("mustache", "\u{e60f}"),
    ("nfo", "\u{f129}"),
    ("nim", "\u{e677}"),
    ("nix", "\u{f313}"),
    ("norg", "\u{e847}"),
    ("nswag", "\u{e60b}"),
    ("nu", "\u{f054}"),
    ("o", "\u{eae8}"),
    ("obj", "\u{f01a7}"),
    ("odf", "\u{f37b}"),
    ("odg", "\u{f379}"),
    ("odin", "\u{f07e2}"),
    ("odp", "\u{f37a}"),
    ("ods", "\u{f378}"),
    ("odt", "\u{f37c}"),
    ("oga", "\u{f001}"),
    ("ogg", "\u{f001}"),
    ("ogv", "\u{e69f}"),
    ("ogx", "\u{e69f}"),
    ("opus", "\u{f001}"),
    ("org", "\u{e633}"),
    ("otf", "\u{f031}"),
    ("out", "\u{eae8}"),
    ("part", "\u{f019}"),
    ("patch", "\u{e728}"),
    ("pck", "\u{f487}"),
    ("pcm", "\u{f001}"),
    ("pdf", "\u{eaeb}"),
    ("php", "\u{e608}"),
    ("pl", "\u{e769}"),
    ("pls", "\u{f0cb9}"),
    ("ply", "\u{f01a7}"),
    ("pm", "\u{e769}"),
    ("png", "\u{e60d}"),
    ("po", "\u{f1ab}"),
    ("pot", "\u{f1ab}"),
    ("pp", "\u{e631}"),
    ("ppt", "\u{f0227}"),
    ("pptx", "\u{f0227}"),
    ("prisma", "\u{e684}"),
    ("pro", "\u{e7a1}"),
    ("ps1", "\u{f0a0a}"),
    ("psb", "\u{e7b8}"),
    ("psd", "\u{e7b8}"),
    ("psd1", "\u{f0a0a}"),
    ("psm1", "\u{f0a0a}"),
    ("pub", "\u{f0dd6}"),
    ("pxd", "\u{e606}"),
    ("pxi", "\u{e606}"),
    ("py", "\u{e606}"),
    ("pyc", "\u{e606}"),
    ("pyd", "\u{e606}"),
    ("pyi", "\u{e606}"),
    ("pyo", "\u{e606}"),
    ("pyw", "\u{e606}"),
    ("pyx", "\u{e606}"),
    ("qm", "\u{f1ab}"),
    ("qml", "\u{f375}"),
    ("qrc", "\u{f375}"),
    ("qss", "\u{f375}"),
    ("query", "\u{e21c}"),
    ("r", "\u{f07d4}"),
    ("rake", "\u{e791}"),
    ("rar", "\u{f410}"),
    ("rasi", "\u{ebf6}"),
    ("razor", "\u{f1998}"),
    ("rb", "\u{e791}"),
    ("res", "\u{e688}"),
    ("resi", "\u{e688}"),
    ("rkt", "\u{f0627}"),
    ("rlib", "\u{e7a8}"),
    ("rmd", "\u{e609}"),
    ("rproj", "\u{f05c6}"),
    ("rs", "\u{e68b}"),
    ("rss", "\u{e619}"),
    ("s", "\u{e637}"),
    ("sass", "\u{e603}"),
    ("sbt", "\u{e737}"),
    ("sc", "\u{e737}"),
    ("scad", "\u{f34e}"),
    ("scala", "\u{e737}"),
    ("scm", "\u{f0627}"),
    ("scss", "\u{e603}"),
    ("sh", "\u{e795}"),
    ("sha1", "\u{f0565}"),
    ("sha224", "\u{f0565}"),
    ("sha256", "\u{f0565}"),
    ("sha384", "\u{f0565}"),
    ("sha512", "\u{f0565}"),
    ("sig", "\u{f0627}"),
    ("signature", "\u{f0627}"),
    ("skp", "\u{f0eeb}"),
    ("sldasm", "\u{f0eeb}"),
    ("sldprt", "\u{f0eeb}"),
    ("slim", "\u{e60e}"),
    ("sln", "\u{e70c}"),
    ("slnx", "\u{e70c}"),
    ("slvs", "\u{f0eeb}"),
    ("sml", "\u{f0627}"),
    ("so", "\u{eb9c}"),
    ("sol", "\u{e656}"),
    ("spec.js", "\u{f499}"),
    ("spec.jsx", "\u{f499}"),
    ("spec.ts", "\u{f499}"),
    ("spec.tsx", "\u{f499}"),
    ("spx", "\u{f001}"),
    ("sql", "\u{e706}"),
    ("sqlite", "\u{e706}"),
    ("sqlite3", "\u{e706}"),
    ("srt", "\u{f0a16}"),
    ("ssa", "\u{f0a16}"),
    ("ste", "\u{f0eeb}"),
    ("step", "\u{f0eeb}"),
    ("stl", "\u{f01a7}"),
    ("stories.js", "\u{e8b3}"),
    ("stories.jsx", "\u{e8b3}"),
    ("stories.mjs", "\u{e8b3}"),
    ("stories.svelte", "\u{e8b3}"),
    ("stories.ts", "\u{e8b3}"),
    ("stories.tsx", "\u{e8b3}"),
    ("stories.vue", "\u{e8b3}"),
    ("stp", "\u{f0eeb}"),
    ("strings", "\u{f1ab}"),
    ("styl", "\u{e600}"),
    ("sub", "\u{f0a16}"),
    ("sublime", "\u{e7aa}"),
    ("suo", "\u{e70c}"),
    ("sv", "\u{f035b}"),
    ("svelte", "\u{e697}"),
    ("svg", "\u{f0721}"),
    ("svgz", "\u{f0721}"),
    ("svh", "\u{f035b}"),
    ("swift", "\u{e755}"),
    ("t", "\u{e769}"),
    ("tbc", "\u{f06d3}"),
    ("tcl", "\u{f06d3}"),
    ("templ", "\u{eac4}"),
    ("terminal", "\u{f489}"),
    ("test.js", "\u{f499}"),
    ("test.jsx", "\u{f499}"),
    ("test.ts", "\u{f499}"),
    ("test.tsx", "\u{f499}"),
    ("tex", "\u{e69b}"),
    ("tf", "\u{e69a}"),
    ("tfvars", "\u{f15b}"),
    ("tgz", "\u{f410}"),
    ("tmpl", "\u{eac4}"),
    ("tmux", "\u{ebc8}"),
    ("toml", "\u{e6b2}"),
    ("torrent", "\u{f019}"),
    ("tres", "\u{e65f}"),
    ("ts", "\u{e628}"),
    ("tscn", "\u{e65f}"),
    ("tsconfig", "\u{e772}"),
    ("tsx", "\u{e7ba}"),
    ("ttf", "\u{f031}"),
    ("twig", "\u{e61c}"),
    ("txt", "\u{f0219}"),
    ("txz", "\u{f410}"),
    ("typ", "\u{f37f}"),
    ("typoscript", "\u{e772}"),
    ("ui", "\u{f2d0}"),
    ("v", "\u{f035b}"),
    ("vala", "\u{e8d1}"),
    ("vert", "\u{e855}"),
    ("vh", "\u{f035b}"),
    ("vhd", "\u{f035b}"),
    ("vhdl", "\u{f035b}"),
    ("vi", "\u{e81e}"),
    ("vim", "\u{e62b}"),
    ("vsh", "\u{e6ac}"),
    ("vsix", "\u{e70c}"),
    ("vue", "\u{e6a0}"),
    ("wasm", "\u{e6a1}"),
    ("wav", "\u{f001}"),
    ("webm", "\u{e69f}"),
    ("webmanifest", "\u{e60b}"),
    ("webp", "\u{e60d}"),
    ("webpack", "\u{f072b}"),
    ("wma", "\u{f001}"),
    ("wmv", "\u{e69f}"),
    ("woff", "\u{f031}"),
    ("woff2", "\u{f031}"),
    ("wrl", "\u{f01a7}"),
    ("wrz", "\u{f01a7}"),
    ("wv", "\u{f001}"),
    ("wvc", "\u{f001}"),
    ("x", "\u{e691}"),
    ("xaml", "\u{f0673}"),
    ("xcf", "\u{f338}"),
    ("xcplayground", "\u{e755}"),
    ("xcstrings", "\u{f1ab}"),
    ("xls", "\u{f021b}"),
    ("xlsx", "\u{f021b}"),
    ("xm", "\u{e691}"),
    ("xml", "\u{f05c0}"),
    ("xpi", "\u{e786}"),
    ("xslt", "\u{f05c0}"),
    ("xul", "\u{e745}"),
    ("xz", "\u{f410}"),
    ("yaml", "\u{e615}"),
    ("yml", "\u{e615}"),
    ("zig", "\u{e6a9}"),
    ("zip", "\u{f410}"),
    ("zsh", "\u{e795}"),
    ("zst", "\u{f410}"),
    ("\u{1f525}", "\u{f06d}"),
];

fn filename_icon_map() -> &'static HashMap<&'static str, &'static str> {
    static MAP: OnceLock<HashMap<&'static str, &'static str>> = OnceLock::new();
    MAP.get_or_init(|| FILENAME_ICONS.iter().copied().collect())
}

fn extension_icon_map() -> &'static HashMap<&'static str, &'static str> {
    static MAP: OnceLock<HashMap<&'static str, &'static str>> = OnceLock::new();
    MAP.get_or_init(|| EXTENSION_ICONS.iter().copied().collect())
}

pub fn folder_icon() -> &'static str {
    DEFAULT_FOLDER_ICON
}

pub fn file_icon(path: &Path) -> &'static str {
    let Some(name_os) = path.file_name() else {
        return DEFAULT_FILE_ICON;
    };
    let name = name_os.to_string_lossy();
    let lower_name = name.to_ascii_lowercase();

    if let Some(icon) = filename_icon_map().get(lower_name.as_str()) {
        return icon;
    }

    let ext_map = extension_icon_map();
    for (idx, ch) in name.char_indices() {
        if ch != '.' || idx + 1 >= name.len() {
            continue;
        }

        let suffix = &name[idx + 1..];
        if let Some(icon) = ext_map.get(suffix) {
            return icon;
        }

        let suffix_lower = suffix.to_ascii_lowercase();
        if let Some(icon) = ext_map.get(suffix_lower.as_str()) {
            return icon;
        }
    }

    DEFAULT_FILE_ICON
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn nvim_like_lookup_prefers_filename_then_extension() {
        let docker_icon = filename_icon_map()
            .get("dockerfile")
            .copied()
            .expect("dockerfile icon should exist");
        let dts_icon = extension_icon_map()
            .get("d.ts")
            .copied()
            .expect("d.ts icon should exist");
        let rust_icon = extension_icon_map()
            .get("rs")
            .copied()
            .expect("rs icon should exist");

        assert_eq!(file_icon(Path::new("Dockerfile")), docker_icon);
        assert_eq!(file_icon(Path::new("test.d.ts")), dts_icon);
        assert_eq!(file_icon(Path::new("src/main.rs")), rust_icon);
    }
}
